import{s as Oe,n as ke,r as ue,e as be,o as Ne}from"../chunks/scheduler.gf8ilvFp.js";import{S as qe,i as Be,g as c,s as L,h as d,j as b,y as F,c as x,f,k as r,l as ie,a as U,x as n,A as ne,z as Y,B as we,m as Le,n as xe,o as Re}from"../chunks/index.jyXLXVhh.js";import{e as re}from"../chunks/each.R8bzzU4o.js";import{D as W,t as ge,a as je,b as Ee,d as De,s as Ue}from"../chunks/GamingTaskStore.jJDO-u-R.js";function Ce(t,s,h){const o=t.slice();return o[18]=s[h],o}function He(t,s,h){const o=t.slice();return o[18]=s[h],o}function Ie(t){let s,h,o,C,v,p,w,y=t[18].name+"",R,g,m,u,H="",I,O,j;function N(){return t[9](t[18])}function V(){return t[10](t[18])}return{c(){s=c("tr"),h=c("td"),o=c("input"),p=L(),w=c("td"),R=Le(y),g=L(),m=c("td"),u=c("i"),u.innerHTML=H,I=L(),this.h()},l(T){s=d(T,"TR",{});var i=b(s);h=d(i,"TD",{});var l=b(h);o=d(l,"INPUT",{class:!0,type:!0,id:!0}),l.forEach(f),p=x(i),w=d(i,"TD",{});var _=b(w);R=xe(_,y),_.forEach(f),g=x(i),m=d(i,"TD",{class:!0});var M=b(m);u=d(M,"I",{class:!0,"aria-hidden":!0,style:!0,"data-svelte-h":!0}),F(u)!=="svelte-q1v2cz"&&(u.innerHTML=H),M.forEach(f),I=x(i),i.forEach(f),this.h()},h(){r(o,"class","form-check-input"),r(o,"type","checkbox"),r(o,"id",C=t[18].id),o.checked=v=t[18].completed,r(u,"class","fa fa-trash ms-4"),r(u,"aria-hidden","true"),ie(u,"cursor","pointer"),r(m,"class","text-end")},m(T,i){U(T,s,i),n(s,h),n(h,o),n(s,p),n(s,w),n(w,R),n(s,g),n(s,m),n(m,u),n(s,I),O||(j=[Y(o,"change",N),Y(u,"click",V)],O=!0)},p(T,i){t=T,i&8&&C!==(C=t[18].id)&&r(o,"id",C),i&8&&v!==(v=t[18].completed)&&(o.checked=v),i&8&&y!==(y=t[18].name+"")&&Re(R,y)},d(T){T&&f(s),O=!1,ue(j)}}}function Me(t){let s,h,o,C,v,p,w,y=t[18].name+"",R,g,m,u,H="",I,O,j;function N(){return t[13](t[18])}function V(){return t[14](t[18])}return{c(){s=c("tr"),h=c("td"),o=c("input"),p=L(),w=c("td"),R=Le(y),g=L(),m=c("td"),u=c("i"),u.innerHTML=H,I=L(),this.h()},l(T){s=d(T,"TR",{});var i=b(s);h=d(i,"TD",{});var l=b(h);o=d(l,"INPUT",{class:!0,type:!0,id:!0}),l.forEach(f),p=x(i),w=d(i,"TD",{});var _=b(w);R=xe(_,y),_.forEach(f),g=x(i),m=d(i,"TD",{class:!0});var M=b(m);u=d(M,"I",{class:!0,"aria-hidden":!0,style:!0,"data-svelte-h":!0}),F(u)!=="svelte-q1v2cz"&&(u.innerHTML=H),M.forEach(f),I=x(i),i.forEach(f),this.h()},h(){r(o,"class","form-check-input"),r(o,"type","checkbox"),r(o,"id",C=t[18].id),o.checked=v=t[18].completed,r(u,"class","fa fa-trash ms-4"),r(u,"aria-hidden","true"),ie(u,"cursor","pointer"),r(m,"class","text-end")},m(T,i){U(T,s,i),n(s,h),n(h,o),n(s,p),n(s,w),n(w,R),n(s,g),n(s,m),n(m,u),n(s,I),O||(j=[Y(o,"change",N),Y(u,"click",V)],O=!0)},p(T,i){t=T,i&4&&C!==(C=t[18].id)&&r(o,"id",C),i&4&&v!==(v=t[18].completed)&&(o.checked=v),i&4&&y!==(y=t[18].name+"")&&Re(R,y)},d(T){T&&f(s),O=!1,ue(j)}}}function Ve(t){let s,h,o="Daily Tasks",C,v,p,w,y,R='<i class="fa fa-plus" aria-hidden="true"></i>',g,m,u,H,I,O='<th style="width: 150px;">Completed</th> <th>Task</th> <th style="width: 400px"></th>',j,N,V,T,i,l,_,M="Weekly Tasks",P,q,B,oe,S,he='<i class="fa fa-plus" aria-hidden="true"></i>',ee,J,K,z,Q,fe='<th style="width: 150px;">Completed</th> <th>Task</th> <th style="width: 400px"></th>',ce,X,de,_e,Z=re(t[3]),E=[];for(let e=0;e<Z.length;e+=1)E[e]=Ie(He(t,Z,e));let $=re(t[2]),D=[];for(let e=0;e<$.length;e+=1)D[e]=Me(Ce(t,$,e));return{c(){s=c("div"),h=c("h6"),h.textContent=o,C=L(),v=c("div"),p=c("input"),w=L(),y=c("button"),y.innerHTML=R,g=L(),m=c("form"),u=c("div"),H=c("table"),I=c("tr"),I.innerHTML=O,j=L(),N=c("tbody");for(let e=0;e<E.length;e+=1)E[e].c();V=L(),T=c("hr"),i=L(),l=c("div"),_=c("h6"),_.textContent=M,P=L(),q=c("div"),B=c("input"),oe=L(),S=c("button"),S.innerHTML=he,ee=L(),J=c("form"),K=c("div"),z=c("table"),Q=c("tr"),Q.innerHTML=fe,ce=L(),X=c("tbody");for(let e=0;e<D.length;e+=1)D[e].c();this.h()},l(e){s=d(e,"DIV",{class:!0});var k=b(s);h=d(k,"H6",{"data-svelte-h":!0}),F(h)!=="svelte-1v7m7xv"&&(h.textContent=o),C=x(k),v=d(k,"DIV",{class:!0});var a=b(v);p=d(a,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,style:!0}),w=x(a),y=d(a,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(y)!=="svelte-szah38"&&(y.innerHTML=R),a.forEach(f),k.forEach(f),g=x(e),m=d(e,"FORM",{});var A=b(m);u=d(A,"DIV",{class:!0});var pe=b(u);H=d(pe,"TABLE",{class:!0});var te=b(H);I=d(te,"TR",{"data-svelte-h":!0}),F(I)!=="svelte-g5bjg5"&&(I.innerHTML=O),j=x(te),N=d(te,"TBODY",{});var me=b(N);for(let G=0;G<E.length;G+=1)E[G].l(me);me.forEach(f),te.forEach(f),pe.forEach(f),A.forEach(f),V=x(e),T=d(e,"HR",{class:!0}),i=x(e),l=d(e,"DIV",{class:!0});var le=b(l);_=d(le,"H6",{"data-svelte-h":!0}),F(_)!=="svelte-dinjun"&&(_.textContent=M),P=x(le),q=d(le,"DIV",{class:!0});var se=b(q);B=d(se,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,style:!0}),oe=x(se),S=d(se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(S)!=="svelte-128xsw2"&&(S.innerHTML=he),se.forEach(f),le.forEach(f),ee=x(e),J=d(e,"FORM",{});var ve=b(J);K=d(ve,"DIV",{class:!0});var ye=b(K);z=d(ye,"TABLE",{class:!0});var ae=b(z);Q=d(ae,"TR",{"data-svelte-h":!0}),F(Q)!=="svelte-g5bjg5"&&(Q.innerHTML=fe),ce=x(ae),X=d(ae,"TBODY",{});var Te=b(X);for(let G=0;G<D.length;G+=1)D[G].l(Te);Te.forEach(f),ae.forEach(f),ye.forEach(f),ve.forEach(f),this.h()},h(){r(p,"id","daily_task_name"),r(p,"type","text"),r(p,"class","form-control form-control-sm"),r(p,"placeholder","New Task"),ie(p,"width","300px"),r(y,"type","button"),r(y,"class","btn btn-primary btn-sm ms-3"),r(v,"class","d-flex flex-row"),r(s,"class","d-flex flex-row justify-content-between"),r(H,"class","table table-striped"),r(u,"class","row mx-1 mt-4"),r(T,"class","my-4"),r(B,"id","daily_task_name"),r(B,"type","text"),r(B,"class","form-control form-control-sm"),r(B,"placeholder","New Task"),ie(B,"width","300px"),r(S,"type","button"),r(S,"class","btn btn-primary btn-sm ms-3"),r(q,"class","d-flex flex-row"),r(l,"class","d-flex flex-row justify-content-between"),r(z,"class","table table-striped"),r(K,"class","row mx-1 mt-4")},m(e,k){U(e,s,k),n(s,h),n(s,C),n(s,v),n(v,p),ne(p,t[0]),n(v,w),n(v,y),U(e,g,k),U(e,m,k),n(m,u),n(u,H),n(H,I),n(H,j),n(H,N);for(let a=0;a<E.length;a+=1)E[a]&&E[a].m(N,null);U(e,V,k),U(e,T,k),U(e,i,k),U(e,l,k),n(l,_),n(l,P),n(l,q),n(q,B),ne(B,t[1]),n(q,oe),n(q,S),U(e,ee,k),U(e,J,k),n(J,K),n(K,z),n(z,Q),n(z,ce),n(z,X);for(let a=0;a<D.length;a+=1)D[a]&&D[a].m(X,null);de||(_e=[Y(p,"input",t[7]),Y(y,"click",t[8]),Y(B,"input",t[11]),Y(S,"click",t[12])],de=!0)},p(e,[k]){if(k&1&&p.value!==e[0]&&ne(p,e[0]),k&8){Z=re(e[3]);let a;for(a=0;a<Z.length;a+=1){const A=He(e,Z,a);E[a]?E[a].p(A,k):(E[a]=Ie(A),E[a].c(),E[a].m(N,null))}for(;a<E.length;a+=1)E[a].d(1);E.length=Z.length}if(k&2&&B.value!==e[1]&&ne(B,e[1]),k&4){$=re(e[2]);let a;for(a=0;a<$.length;a+=1){const A=Ce(e,$,a);D[a]?D[a].p(A,k):(D[a]=Me(A),D[a].c(),D[a].m(X,null))}for(;a<D.length;a+=1)D[a].d(1);D.length=$.length}},i:ke,o:ke,d(e){e&&(f(s),f(g),f(m),f(V),f(T),f(i),f(l),f(ee),f(J)),we(E,e),we(D,e),de=!1,ue(_e)}}}function Pe(t,s,h){let o,C,v,p,w;be(t,ge,l=>h(5,p=l)),be(t,Ue,l=>h(6,w=l));const y=l=>{const _=W.local(),M=v.daily_reset_time.split(":"),P=W.local().set({hour:M[0],minute:M[1],second:0}),q=W.fromISO(l.last_reset);return _>P&&q<P&&l.completed},R=l=>{const _=W.local();if(v.weekly_reset_day!==W.local().weekday)return!1;const M=v.weekly_reset_time.split(":"),P=W.local().set({hour:M[0],minute:M[1],second:0}),q=W.fromISO(l.last_reset);return _>P&&q<P&&l.completed};Ne(()=>{p.map(_=>((_.frequency==="daily"&&y(_)||_.frequency==="weekly"&&R(_))&&(_.completed=!1,_.last_reset=W.local().set({second:0}).toISO()),_));const l=p.sort((_,M)=>_.name.localeCompare(M.name));ge.set(l)});let g="",m="";const u=(l,_)=>{je(l,_),h(0,g=""),h(1,m="")};function H(){g=this.value,h(0,g)}const I=()=>u(g,"daily"),O=l=>Ee(l.id),j=l=>De(l.id);function N(){m=this.value,h(1,m)}const V=()=>u(m,"weekly"),T=l=>Ee(l.id),i=l=>De(l.id);return t.$$.update=()=>{t.$$.dirty&32&&h(3,o=p.filter(l=>l.frequency==="daily")),t.$$.dirty&32&&h(2,C=p.filter(l=>l.frequency==="weekly")),t.$$.dirty&64&&(v=w)},[g,m,C,o,u,p,w,H,I,O,j,N,V,T,i]}class Fe extends qe{constructor(s){super(),Be(this,s,Pe,Ve,Oe,{})}}export{Fe as component};
