import{s as Oe,n as ke,r as ue,e as be,o as qe}from"../chunks/scheduler.gf8ilvFp.js";import{S as Ne,i as Be,g as c,s as M,h as d,j as k,y as F,c as L,f,k as r,l as ie,a as V,x as n,A as ne,z as Y,B as we,m as Le,n as xe,o as Re}from"../chunks/index.jyXLXVhh.js";import{e as re}from"../chunks/each.R8bzzU4o.js";import{D as W,t as Ee,a as Ue,b as ge,d as De,s as Ve}from"../chunks/GamingTaskStore.4yXdEuVg.js";function Ce(l,s,h){const o=l.slice();return o[18]=s[h],o}function He(l,s,h){const o=l.slice();return o[18]=s[h],o}function Ie(l){let s,h,o,C,m,_,b,v=l[18].name+"",x,w,p,u,H="",I,O,U;function q(){return l[9](l[18])}function P(){return l[10](l[18])}return{c(){s=c("tr"),h=c("td"),o=c("input"),_=M(),b=c("td"),x=Le(v),w=M(),p=c("td"),u=c("i"),u.innerHTML=H,I=M(),this.h()},l(y){s=d(y,"TR",{});var i=k(s);h=d(i,"TD",{});var t=k(h);o=d(t,"INPUT",{class:!0,type:!0,id:!0}),t.forEach(f),_=L(i),b=d(i,"TD",{});var E=k(b);x=xe(E,v),E.forEach(f),w=L(i),p=d(i,"TD",{class:!0});var R=k(p);u=d(R,"I",{class:!0,"aria-hidden":!0,style:!0,"data-svelte-h":!0}),F(u)!=="svelte-q1v2cz"&&(u.innerHTML=H),R.forEach(f),I=L(i),i.forEach(f),this.h()},h(){r(o,"class","form-check-input"),r(o,"type","checkbox"),r(o,"id",C=l[18].id),o.checked=m=l[18].completed,r(u,"class","fa fa-trash ms-4"),r(u,"aria-hidden","true"),ie(u,"cursor","pointer"),r(p,"class","text-end")},m(y,i){V(y,s,i),n(s,h),n(h,o),n(s,_),n(s,b),n(b,x),n(s,w),n(s,p),n(p,u),n(s,I),O||(U=[Y(o,"change",q),Y(u,"click",P)],O=!0)},p(y,i){l=y,i&8&&C!==(C=l[18].id)&&r(o,"id",C),i&8&&m!==(m=l[18].completed)&&(o.checked=m),i&8&&v!==(v=l[18].name+"")&&Re(x,v)},d(y){y&&f(s),O=!1,ue(U)}}}function Me(l){let s,h,o,C,m,_,b,v=l[18].name+"",x,w,p,u,H="",I,O,U;function q(){return l[13](l[18])}function P(){return l[14](l[18])}return{c(){s=c("tr"),h=c("td"),o=c("input"),_=M(),b=c("td"),x=Le(v),w=M(),p=c("td"),u=c("i"),u.innerHTML=H,I=M(),this.h()},l(y){s=d(y,"TR",{});var i=k(s);h=d(i,"TD",{});var t=k(h);o=d(t,"INPUT",{class:!0,type:!0,id:!0}),t.forEach(f),_=L(i),b=d(i,"TD",{});var E=k(b);x=xe(E,v),E.forEach(f),w=L(i),p=d(i,"TD",{class:!0});var R=k(p);u=d(R,"I",{class:!0,"aria-hidden":!0,style:!0,"data-svelte-h":!0}),F(u)!=="svelte-q1v2cz"&&(u.innerHTML=H),R.forEach(f),I=L(i),i.forEach(f),this.h()},h(){r(o,"class","form-check-input"),r(o,"type","checkbox"),r(o,"id",C=l[18].id),o.checked=m=l[18].completed,r(u,"class","fa fa-trash ms-4"),r(u,"aria-hidden","true"),ie(u,"cursor","pointer"),r(p,"class","text-end")},m(y,i){V(y,s,i),n(s,h),n(h,o),n(s,_),n(s,b),n(b,x),n(s,w),n(s,p),n(p,u),n(s,I),O||(U=[Y(o,"change",q),Y(u,"click",P)],O=!0)},p(y,i){l=y,i&4&&C!==(C=l[18].id)&&r(o,"id",C),i&4&&m!==(m=l[18].completed)&&(o.checked=m),i&4&&v!==(v=l[18].name+"")&&Re(x,v)},d(y){y&&f(s),O=!1,ue(U)}}}function Pe(l){let s,h,o="Daily Tasks",C,m,_,b,v,x='<i class="fa fa-plus" aria-hidden="true"></i>',w,p,u,H,I,O='<th style="width: 150px;">Completed</th> <th>Task</th> <th style="width: 400px"></th>',U,q,P,y,i,t,E,R="Weekly Tasks",S,N,B,oe,j,he='<i class="fa fa-plus" aria-hidden="true"></i>',ee,J,K,z,Q,fe='<th style="width: 150px;">Completed</th> <th>Task</th> <th style="width: 400px"></th>',ce,X,de,_e,Z=re(l[3]),g=[];for(let e=0;e<Z.length;e+=1)g[e]=Ie(He(l,Z,e));let $=re(l[2]),D=[];for(let e=0;e<$.length;e+=1)D[e]=Me(Ce(l,$,e));return{c(){s=c("div"),h=c("h6"),h.textContent=o,C=M(),m=c("div"),_=c("input"),b=M(),v=c("button"),v.innerHTML=x,w=M(),p=c("form"),u=c("div"),H=c("table"),I=c("tr"),I.innerHTML=O,U=M(),q=c("tbody");for(let e=0;e<g.length;e+=1)g[e].c();P=M(),y=c("hr"),i=M(),t=c("div"),E=c("h6"),E.textContent=R,S=M(),N=c("div"),B=c("input"),oe=M(),j=c("button"),j.innerHTML=he,ee=M(),J=c("form"),K=c("div"),z=c("table"),Q=c("tr"),Q.innerHTML=fe,ce=M(),X=c("tbody");for(let e=0;e<D.length;e+=1)D[e].c();this.h()},l(e){s=d(e,"DIV",{class:!0});var T=k(s);h=d(T,"H6",{"data-svelte-h":!0}),F(h)!=="svelte-1v7m7xv"&&(h.textContent=o),C=L(T),m=d(T,"DIV",{class:!0});var a=k(m);_=d(a,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,style:!0}),b=L(a),v=d(a,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(v)!=="svelte-szah38"&&(v.innerHTML=x),a.forEach(f),T.forEach(f),w=L(e),p=d(e,"FORM",{});var A=k(p);u=d(A,"DIV",{class:!0});var pe=k(u);H=d(pe,"TABLE",{class:!0});var te=k(H);I=d(te,"TR",{"data-svelte-h":!0}),F(I)!=="svelte-504c7h"&&(I.innerHTML=O),U=L(te),q=d(te,"TBODY",{});var me=k(q);for(let G=0;G<g.length;G+=1)g[G].l(me);me.forEach(f),te.forEach(f),pe.forEach(f),A.forEach(f),P=L(e),y=d(e,"HR",{class:!0}),i=L(e),t=d(e,"DIV",{class:!0});var le=k(t);E=d(le,"H6",{"data-svelte-h":!0}),F(E)!=="svelte-dinjun"&&(E.textContent=R),S=L(le),N=d(le,"DIV",{class:!0});var se=k(N);B=d(se,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,style:!0}),oe=L(se),j=d(se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(j)!=="svelte-128xsw2"&&(j.innerHTML=he),se.forEach(f),le.forEach(f),ee=L(e),J=d(e,"FORM",{});var ve=k(J);K=d(ve,"DIV",{class:!0});var ye=k(K);z=d(ye,"TABLE",{class:!0});var ae=k(z);Q=d(ae,"TR",{"data-svelte-h":!0}),F(Q)!=="svelte-lq9khs"&&(Q.innerHTML=fe),ce=L(ae),X=d(ae,"TBODY",{});var Te=k(X);for(let G=0;G<D.length;G+=1)D[G].l(Te);Te.forEach(f),ae.forEach(f),ye.forEach(f),ve.forEach(f),this.h()},h(){r(_,"id","daily_task_name"),r(_,"type","text"),r(_,"class","form-control form-control-sm"),r(_,"placeholder","New Task"),ie(_,"width","300px"),r(v,"type","button"),r(v,"class","btn btn-primary btn-sm ms-3"),r(m,"class","d-flex flex-row"),r(s,"class","d-flex flex-row justify-content-between"),r(H,"class","table table-striped"),r(u,"class","row mx-1 mt-4"),r(y,"class","my-4"),r(B,"id","daily_task_name"),r(B,"type","text"),r(B,"class","form-control form-control-sm"),r(B,"placeholder","New Task"),ie(B,"width","300px"),r(j,"type","button"),r(j,"class","btn btn-primary btn-sm ms-3"),r(N,"class","d-flex flex-row"),r(t,"class","d-flex flex-row justify-content-between"),r(z,"class","table table-striped"),r(K,"class","row mx-1 mt-4")},m(e,T){V(e,s,T),n(s,h),n(s,C),n(s,m),n(m,_),ne(_,l[0]),n(m,b),n(m,v),V(e,w,T),V(e,p,T),n(p,u),n(u,H),n(H,I),n(H,U),n(H,q);for(let a=0;a<g.length;a+=1)g[a]&&g[a].m(q,null);V(e,P,T),V(e,y,T),V(e,i,T),V(e,t,T),n(t,E),n(t,S),n(t,N),n(N,B),ne(B,l[1]),n(N,oe),n(N,j),V(e,ee,T),V(e,J,T),n(J,K),n(K,z),n(z,Q),n(z,ce),n(z,X);for(let a=0;a<D.length;a+=1)D[a]&&D[a].m(X,null);de||(_e=[Y(_,"input",l[7]),Y(v,"click",l[8]),Y(B,"input",l[11]),Y(j,"click",l[12])],de=!0)},p(e,[T]){if(T&1&&_.value!==e[0]&&ne(_,e[0]),T&8){Z=re(e[3]);let a;for(a=0;a<Z.length;a+=1){const A=He(e,Z,a);g[a]?g[a].p(A,T):(g[a]=Ie(A),g[a].c(),g[a].m(q,null))}for(;a<g.length;a+=1)g[a].d(1);g.length=Z.length}if(T&2&&B.value!==e[1]&&ne(B,e[1]),T&4){$=re(e[2]);let a;for(a=0;a<$.length;a+=1){const A=Ce(e,$,a);D[a]?D[a].p(A,T):(D[a]=Me(A),D[a].c(),D[a].m(X,null))}for(;a<D.length;a+=1)D[a].d(1);D.length=$.length}},i:ke,o:ke,d(e){e&&(f(s),f(w),f(p),f(P),f(y),f(i),f(t),f(ee),f(J)),we(g,e),we(D,e),de=!1,ue(_e)}}}function Se(l,s,h){let o,C,m,_,b;be(l,Ee,t=>h(5,_=t)),be(l,Ve,t=>h(6,b=t));const v=t=>{const E=W.local(),R=m.daily_reset_time.split(":"),S=W.local().set({hour:R[0],minute:R[1],second:0}),N=W.fromISO(t.last_reset);return E>S&&N<S&&t.completed},x=t=>{const E=W.local();if(m.weekly_reset_day!==W.local().weekday)return!1;const R=m.weekly_reset_time.split(":"),S=W.local().set({hour:R[0],minute:R[1],second:0}),N=W.fromISO(t.last_reset);return E>S&&N<S&&t.completed};qe(()=>{_.map(t=>((t.frequency==="daily"&&v(t)||t.frequency==="weekly"&&x(t))&&(t.completed=!1,t.last_reset=W.local().set({second:0}).toISO()),t)),Ee.set(_)});let w="",p="";const u=(t,E)=>{Ue(t,E),h(0,w=""),h(1,p="")};function H(){w=this.value,h(0,w)}const I=()=>u(w,"daily"),O=t=>ge(t.id),U=t=>De(t.id);function q(){p=this.value,h(1,p)}const P=()=>u(p,"weekly"),y=t=>ge(t.id),i=t=>De(t.id);return l.$$.update=()=>{l.$$.dirty&32&&h(3,o=_.filter(t=>t.frequency==="daily")),l.$$.dirty&32&&h(2,C=_.filter(t=>t.frequency==="weekly")),l.$$.dirty&64&&(m=b)},[w,p,C,o,u,_,b,H,I,O,U,q,P,y,i]}class Fe extends Ne{constructor(s){super(),Be(this,s,Se,Pe,Oe,{})}}export{Fe as component};
